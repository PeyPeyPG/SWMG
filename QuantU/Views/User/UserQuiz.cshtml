@model QuantU.Models.UserFinances

@{
    ViewData["Title"] = "Home Page";
}
<div class="container">
    <div class="text-center">
        <h1 class="display-4">User Quiz</h1>
    </div>
    <form asp-action="UserQuiz">
        <h2>User Quiz</h2>
        @*Username field to keep track of same user information*@
        <div class="mb-3">
            <label asp-for="username" class="form-label">User Name</label>
            <input asp-for="username" type="text" class="form-control">
            <span class="text-danger" asp-validation-for="username"></span>
        </div>
        <br>
@*dropdown list for martital status*@
        <select class="form-select" aria-label="Choose your marital status" asp-for="maritalStatus">
            <option selected>Choose your marital status</option>
            <option value="Single">Single</option>
            <option value="Married">Married</option>
            <option value="Widowed">Widowed</option>
            <option value="Separated">Separated</option>
            <option value="Divorced">Divorced</option>
        </select>
        <br>
@*Age slider for age field*@
        <label for="customRange3" class="form-label">Age: <span id="rangeValue">50</span></label>
        <input asp-for="age" type="range" class="form-range" min="0" max="100" step="1" id="customRange3"
            oninput="updateRangeValue(this.value)">
@*salary field int input*@
        <label asp-for="netSalary" class="form-label">Net Salary</label>
        <input asp-for="netSalary" type="text" class="form-control">
        <span class="text-danger" asp-validation-for="netSalary"></span><br>

        <label>Check all interest that apply:</label>
@*checkboxes for interests very easy to add more of these just copy the same syntax*@
        <div class="form-check">
            <input type="checkbox" asp-for="TechnologyChecked" class="form-check-input" id="technologyCheckbox"
                onchange="updateInterests('Technology', this.checked)">
            <label class="form-check-label" for="technologyCheckbox">Technology</label>
        </div>
        <div class="form-check">
            <input type="checkbox" asp-for="BankingChecked" class="form-check-input" id="bankingCheckbox"
                onchange="updateInterests('Banking', this.checked)">
            <label class="form-check-label" for="bankingCheckbox">Banking</label>
        </div>
        <div class="form-check">
            <input type="checkbox" asp-for="AutomotiveChecked" class="form-check-input" id="automotiveCheckbox"
                onchange="updateInterests('Automotive', this.checked)">
            <label class="form-check-label" for="automotiveCheckbox">Automotive</label>
        </div>
        <br>
        <input type="hidden" asp-for="interests" id="interests" />
@*script to store the checkbox values into an array for user finance section in data base*@
        <script>
            function updateInterests(interest, checked) {
                var interests = JSON.parse(document.getElementById('interests').value || '[]');
                if (checked) {
                    interests.push(interest);
                } else {
                    var index = interests.indexOf(interest);
                    if (index !== -1) {
                        interests.splice(index, 1);
                    }
                }
                document.getElementById('interests').value = JSON.stringify(interests);
            }
        </script>

@*script that shows the age as you move the slider for age*@
        <script>
            function updateRangeValue(val) {
                document.getElementById('rangeValue').innerHTML = val;
            }
        </script>

@*submit message either yay or nay*@
        @if (TempData["msg"] != null)
        {
            <div class="mb-3">
                @TempData["msg"]
            </div>
        }

        <button type="submit" class="btn btn-primary">Submit</button>
        <a href="" class="btn btn-primary">All Persons</a>
    </form>
</div>
